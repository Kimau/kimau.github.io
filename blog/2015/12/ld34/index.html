<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <base href="/">

    
    <title>Flammable Penguins: Rolling Cube of Ludum Dare 34</title>
    <meta name="author" content="Claire Blackshaw">
    
      <meta name="description" content="So while it&#39;s fresh I&#39;m writing up LD34, a successful failure. First time ever the theme&#39;s were tied so we ending up doing both growing and two button. Which are both great themes.My idea quickly came once I dismissed anything based on plant growing for reasons I shan &#39;t discuss here. So I quickly settled on the idea of a ball bouncing away from an explosion shedding mass, grabbing other bits of shrapnel and trying to keep gaining mass to stay alive and ahead of the explosion.">
    

    
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
      <meta name="twitter:card" content="summary_large_image" />
      <meta name="twitter:site" content="@EvilKimau" />
      <meta name="twitter:title" content="Rolling Cube of Ludum Dare 34" />
      <meta name="twitter:description" content="So while it&#39;s fresh I&#39;m writing up LD34, a successful failure. First time ever the theme&#39;s were tied so we ending up doing both growing and two button. Which are both great themes.My idea quickly came once I dismissed anything based on plant growing for reasons I shan &#39;t discuss here. So I quickly settled on the idea of a ball bouncing away from an explosion shedding mass, grabbing other bits of shrapnel and trying to keep gaining mass to stay alive and ahead of the explosion." />
      <meta name="twitter:image" content="http://www.flammablepenguins.com/images/Blog/2015-ld34.gif" />
    

    
    <meta property="og:title" content="Rolling Cube of Ludum Dare 34" />
    <meta property="og:site_name" content="Flammable Penguins"/>
    <meta property="og:url" content="http://www.flammablepenguins.comblog/2015/12/ld34/" />
    <meta property="og:locale" content="en_GB" />
    
    <meta property="og:image" content="http://www.flammablepenguins.com/images/Blog/2015-ld34.gif" />
    <meta property="og:type" content="article" />
    <meta property="article:author" content="https://www.facebook.com/Kimau" />
    <meta property="article:publisher" content="https://www.facebook.com/flammablepenguins" />
    

    
      <meta property="og:description" content="So while it&#39;s fresh I&#39;m writing up LD34, a successful failure. First time ever the theme&#39;s were tied so we ending up doing both growing and two button. Which are both great themes.My idea quickly came once I dismissed anything based on plant growing for reasons I shan &#39;t discuss here. So I quickly settled on the idea of a ball bouncing away from an explosion shedding mass, grabbing other bits of shrapnel and trying to keep gaining mass to stay alive and ahead of the explosion." />
    

    
    <link href='http://fonts.googleapis.com/css?family=Share|Lato:400,700,200' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div id="mainPageTop">
    <header id="topHead">
      <div class="topFade"></div>
      <h1>Flammable Penguins</h1>
      <h2>Claire Blackshaw's Forest of Fun</h2>
      <div class="face"></div>
    </header>

    <div id="navBar">
      <h2><a href="/">About</a></h2>
      <h2><a href="/blog/">Blog</a></h2>
      <h2><a href="/hobby/">Hobby Projects</a></h2>
      <h2><a href="/job/">Games Career</a></h2>
    </div>
  </div>


  
  <div id="mainPageBlock">
  <article
  class="blog"
  itemscope itemtype="http://schema.org/Article">
  <header>
    <a href="blog/2015/12/ld34/"><h2 class="title"  itemprop="headline">Rolling Cube of Ludum Dare 34</h2></a>
    
    <a class="postCat" href="/blog/cat/LudumDare">Ludum Dare 48</a>
    
    <a class="postCat" href="/blog/cat/C">C&#43;&#43;</a>
    
    <a class="postCat" href="/blog/cat/Programming">Programming</a>
    
    <a class="postCat" href="/blog/cat/Code">Code</a>
    
    <time class="date" datetime="Mon, 14 Dec 2015 13:00:00 &#43;0000" >14 December 2015</time>
    <link rel="bookmark" href="blog/2015/12/ld34/" /></link>
    <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
    By
      <img class="smallRound" itemprop="image" src="/images/claireBig.jpg" alt="Photo of Claire Blackshaw" />
      <span itemprop="name">Claire Blackshaw</span>
    </div>
    <meta itemprop="datePublished" content="Mon, 14 Dec 2015 13:00:00 &#43;0000"/>
    <meta itemprop="description" content="So while it&#39;s fresh I&#39;m writing up LD34, a successful failure. First time ever the theme&#39;s were tied so we ending up doing both growing and two button. Which are both great themes.My idea quickly came once I dismissed anything based on plant growing for reasons I shan &#39;t discuss here. So I quickly settled on the idea of a ball bouncing away from an explosion shedding mass, grabbing other bits of shrapnel and trying to keep gaining mass to stay alive and ahead of the explosion." />
    
        <meta itemprop="image" content="/images/Blog/2015-ld34.gif" />
    

  </header>
  <div class="body" itemprop="articleBody">
  
    <img class="alignright" alt="Rolling Cube of Ludum Dare 34" src="/images/Blog/2015-ld34.gif" />
  
    <h3><a href="http://kimau.itch.io/neon-junk-collector">Play Here</a></h3>

<blockquote>So while it’s fresh I’m writing up LD34, a successful failure.</blockquote>
<p>
First time ever the theme’s were tied so we ending up doing both growing and two button. Which are both great themes. My idea quickly came once I dismissed anything based on plant growing for reasons I shan’t discuss here. So I quickly settled on the idea of a ball bouncing away from an explosion shedding mass, grabbing other bits of shrapnel and trying to keep gaining mass to stay alive and ahead of the explosion.
</p>

<p>
We are getting ahead of ourselves, Ludum Dare preparation is a critical stage. Every Ludum Dare my preparation tends to match my results. When I do a successful warm up I do a successful game. I made the decision to work on Psybrus, @Neilogd engine, which I’m currently using for a personal project.
</p>

<ul>
<li>Let’s look at the warm-up commits.</li>
<li>Initial Psybrus submodule at revision...</li>
<li>Trying to get skeleton working</li>
<li>Fixed the state but still broken</li>
<li>Fixed transition bug by adding dummy object</li>
<li>Rendering working with new stateless render</li>
<li>Testing physics, collision broken</li>
<li>Fixed physics and tweaked camera</li>
<li>Found Crash when deleting model - Psybrus related</li>
<li>Basic menu controls, select a bunch of mucking about with the camera</li>
</ul>

<p>
Psybrus is a component based engine and in warmup I found some issues with attachment and detachment most of which were solved, some weren’t. The physics test took a bit to get working though the biggest thing found in warmup was moving to the new stateless renderer. It’s a lovely improvement but meant a lot of my skeleton code wasn’t up to snuff. A basic state machine, menu and camera in place I had warmed the tools but no game was made to prove out bits.
</p><p>
Friday I ran off to Cambridge to visit friends and ask my maid of honour to be my maid of honour. So arriving back at midnight I was already tied and hadn’t done pre-jam warm up. So now let's look at how the Jam itself went. As I said I got an idea rather quickly and immediately set off.
</p><p>
First step get a rolling cube escaping an explosion.
</p><ul>
<li>LD48 Start and game idea</li>
<li>Basic Render working</li>
<li>Rolling Cube</li>
<li>Rolling Shrinking Cube</li>
</ul>

<p>
This all went fairly well. Simple but the cube that is rendering is actually generated mesh not a model. I wasted some time on this but my plan was to generate the mesh for the junk ball so I could make it more interesting and “wear” it away in an interesting way. Though I never ended up using that.
</p><ul>
<li>Falling blocks, crashes when you press r to reset</li>
<li>Stupid crash fixed but still crashed when you press R to restart due...</li>
</ul><p>
I lost a bunch of time due to the attachment / detachment issues. The physics was unhappy with deletion. So I spent a bunch of time debugging that bit of the engine. I looked into pooling objects but dismissed it as the engine wasn’t setup for that just yet, outside the particle system.
</p><ul>
<li>Crane Arm in and split off junk ball</li>
<li>Fire Red Beam</li>
<li>Fields of Rocks</li>
<li>Eat Junk</li>
<li>Stuff deletes now</li>
</ul><p>
I fired up Blender to make the first model, oh no wait I installed it first because I forgot to prep my 3D tools. There was some faffing remembering the controls and getting Blender export settings to match what I need. Generating the field of rocks was simple enough and the gameplay started showing up. Physics caused a range of issues. I spent hours poking and prodding Bullet. I lost hours digging into Bullet looking for ways for collider to respond to raycast without rigidbody but no luck. Some talk of ghost objects but I had issues. Though finally I just went in and hacked the physics code to force the position. It finally complied after hours lost. Eating junk was awesome when it went in but I hit that deletion issue. Managed to resolve it mostly by poking the engine. Engine commits aren’t shown here.
</p><ul>
<li>Fixed AABB boxes</li>
<li>Update Psybrus</li>
</ul><p>
So some stuff wasn’t rendering as we rolled into the distance. I realised that the AABB boxes weren’t using the correct transform. It was at this point Neilogd pointed out the AABB box had a simple intersection function. After swearing and groaning I missed this in my search, I marked it off as a lesson and moved on.
</p><ul>
<li>Manual Camera Modes</li>
<li>Rolling Scrap Balls</li>
</ul><p>
I added camera modes to flip between aiming mode, shooting mode and similar. Also I added the rotation code to the junk objects which really livened them up. The camera was planned to add a smoother transition but I didn’t get around to it.
</p><ul>
<li>Sky Shader</li>
</ul><p>
At this point I lost a whole whack of time. To the frankly fun task of writing a fullscreen shader for a cool neon sky and floor grid. It immediately added a punch to the game that it needed. I loved the colours and I’m glad I did it, even if it did take a bunch of time.
</p><ul>
<li>Crane Mock over</li>
</ul><p>
More time playing around in Blender figuring out bits but mostly remembering. Lots of time was lost to not warming up Blender. Things like making a sculpt stick, UV unwrapping, the PNG export being upside down and general issues.
</p><ul>
<li>Fucking particles... well they work</li>
<li>Fucking hacks for submission</li>
</ul><p>
From 21:30 until the 02:15 I lost a LOT of time to particles. It started off because I was looking at a bad particle example with Psybrus which was special case and 2D. So I lost a ton of time there. Finally getting the 2d/3d problem solved I have a bunch of transform and shader issues. Lots of poking with RenderDoc and finally the particles were rendering roughly in the right spot but DAMN IT they were slightly off. Finally after much bitching with and at Neil he was like, just times by two. Turns out it was a bug that he hit a previous LD and forgot to bug. Annoying but a laugh.
</p><p>
Particles barely working and looking kinda shit, I quickly rushed a shooting function in, hacked particles to slow down when the game did. It was kinda crap but I figured I would submit. Forgetting as I did the production build that I had a shitty kinda broken menu. It is skipped in debug for iteration speed.
</p>
<h3>Conclusion</h3>
<p>
Yes this would have be faster in a flash engine, Unity or some other some such. Though I felt in control the whole time. Edit and Continue sorta works but is very flaky and I need to investigate. Honestly the build and iteration time was probably the biggest negative. Though I really like jamming in C++ esp as my day job isn’t game dev anymore and more game tech and supporting stuff. At all times I felt like I could dig in, either with RenderDoc or stepping through and hacking the engine.
</p><p>
Most of my time was lost to tools not being warmed up, obsessing over stupid tech stuff I should have hacked around and not being as familiar as I need to be with Psybrus. Though I keenly look forward to the next Jam and I likely will be doing that one in Psybrus as well.
</p>

  </div>
</article>

  </div>

  
  <script type="text/javascript">

  
  window.___gcfg = {lang: 'en-GB'};

  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/platform.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();

  
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-15579957-1', 'flammablepenguins.com');
  ga('send', 'pageview');

</script>
</body>
</html>
